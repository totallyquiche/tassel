(()=>{var e=function(){return JSON.stringify(quill.getContents())},t=e(),n=function(){return e()!==t},o=function(){document.getElementById("ql-save-button").disabled=!0,document.getElementById("ql-save-button-icon").setAttribute("stroke","lightslategray")};quill.on("text-change",(function(){n()?(document.getElementById("ql-save-button").disabled=!1,document.getElementById("ql-save-button-icon").setAttribute("stroke","blue")):o()})),document.getElementById("ql-save-button").addEventListener("click",(function(){var n=e();t=n,o(),Livewire.emit("saveDelta",n)})),document.getElementById("ql-delete-drafts-button").addEventListener("click",(function(){confirm("Are you sure you want to delete this draft?")&&Livewire.emit("deleteDrafts")}));window.addEventListener("beforeunload",(function(e){"ql-delete-drafts-button"!==e.target.activeElement.id&&n()&&(e.returnValue="Are you sure you want a new prompt?\nYou will lose any unsaved changes.")}));var u=function(){var e=document.querySelector("#overlay"),t=e.style.top;e.style.top=t&&"-100%"!==t?"-100%":0};document.addEventListener("keydown",(function(e){e.key&&"Escape"===e.key&&u()})),document.querySelector("#overlay").addEventListener("click",(function(){return u()})),document.querySelector("#toggle-overlay-button").addEventListener("click",(function(){return u()}))})();